{"version":3,"sources":["medicamentos.js"],"names":["medicamentosinput","document","querySelector","medicamentos","medicamentosFiltrados","async","respuesta","fetch","arrayMedicamentos","map","medicamento","nombre","trim","especificaciones","id","formatearMedicamentos","json","obtenerMedicamentos","addEventListener","e","busqueda","target","value","length","expresion","RegExp","filter","toLowerCase","search","console","log"],"mappings":"CAAA,WACA,MAAAA,EAAAC,SAAAC,cAAA,iBAGA,GAAAF,EAAA,CACA,IAAAG,EAAA,GACAC,EAAA,IAMAC,iBAEA,MACAC,QAAAC,MADA,sBAOA,SAAAC,EAAA,IACAL,EAAAK,EAAAC,IAAAC,IAEA,CACAC,OAAA,GAAAD,EAAAC,OAAAC,UAAAF,EAAAG,iBAAAD,SACAE,GAAAJ,EAAAI,MARAC,OAFAT,EAAAU,QARAC,GAEAjB,EAAAkB,iBAAA,SAsBA,SAAAC,GAEA,MAAAC,EAAAD,EAAAE,OAAAC,MAEA,GAAAF,EAAAG,OAAA,EAAA,CACA,MAAAC,EAAA,IAAAC,OAAAL,EAAA,KACAhB,EAAAD,EAAAuB,OAAAhB,IACA,IAAA,GAAAA,EAAAC,OAAAgB,cAAAC,OAAAJ,GACA,OAAAd,IAIAmB,QAAAC,IAAA1B,QA5CA","file":"bundle.js","sourcesContent":["(function(){\n    const medicamentosinput = document.querySelector('#medicamentos');\n\n\n    if(medicamentosinput){\n        let medicamentos = [];\n        let medicamentosFiltrados = [];\n\n        obtenerMedicamentos();\n\n        medicamentosinput.addEventListener('input', buscarMedicamentos)\n\n        async function obtenerMedicamentos() {\n            \n                const url = `/api/medicamentos`;\n                const respuesta= await fetch(url);\n                const resultado = await respuesta.json();\n\n                formatearMedicamentos(resultado)\n\n        }\n        function formatearMedicamentos(arrayMedicamentos = []) {\n            medicamentos = arrayMedicamentos.map( medicamento => {\n\n                return {\n                    nombre: `${medicamento.nombre.trim()} ${medicamento.especificaciones.trim()}`,\n                    id: medicamento.id\n\n\n                }\n            })    \n        }\n        function buscarMedicamentos(e) {\n\n            const busqueda = e.target.value;\n\n           if(busqueda.length > 3) {\n               const expresion = new RegExp(busqueda, 'i');\n                medicamentosFiltrados = medicamentos.filter(medicamento => {\n                    if(medicamento.nombre.toLowerCase().search(expresion) != -1) {\n                        return medicamento\n                    }\n               \n               })\n               console.log(medicamentosFiltrados);\n           }\n        }\n    }\n}) ();"]}